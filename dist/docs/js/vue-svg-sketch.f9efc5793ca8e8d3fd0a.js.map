{"version":3,"sources":["webpack:///docs/js/vue-svg-sketch.f9efc5793ca8e8d3fd0a.js","webpack:///./src/lib.js","webpack:///./src/utils/sketch.js","webpack:///svg-sketch.vue","webpack:///./src/components/svg-sketch.vue","webpack:///./src/components/svg-sketch.vue?a573"],"names":["webpackJsonp","11","module","exports","15","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__components_svg_sketch__","__WEBPACK_IMPORTED_MODULE_0__components_svg_sketch___default","n","__WEBPACK_IMPORTED_MODULE_1__styles_lib_styl__","16","getCoordsByEvent","event","coords","x","y","changedTouches","pageX","pageY","layerX","layerY","getDistance","coords1","coords2","Math","sqrt","getDirectionMove","abs","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_es6_object_assign__","DefaultOptions","width","height","minDistance","strokeWidth","stroke","disabled","Sketch","element","options","this","i","_temp","$parent","document","createElement","$svg","createSvg","is_touch","documentElement","appendChild","style","display","listen","key","addEventListener","beginDraw","bind","drawMove","endDraw","_ref","_ref$version","version","undefined","svg","createElementNS","setAttribute","_ref2","d","path","offsetLeft","offsetTop","holdKey","line","lineDirection","lineStartCoords","dist","prevCoords","targetTouches","length","preventDefault","setOffset","drawing","getCoords","getCoordsByShiftKey","shiftKey","$path","createPath","children","remove","innerHTML","set","get","outerHTML","res","type","sv","w","h","paths","push","getAttribute","s","sw","json","sketchJsonV3","sketchJsonV1","_this","pathsHTML","forEach","pathElement","_this2","18","__WEBPACK_IMPORTED_MODULE_0__utils_sketch_js__","name","props","Boolean","size","String","Number","default","color","data","sketch","mounted","$el","methods","revert","back","clean","toJSON","sketchJson","watch","36","4","injectStyle","ssrContext","Component","41","render","_vm","_h","$createElement","_self","_c","staticClass","staticRenderFns"],"mappings":"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","file":"docs/js/vue-svg-sketch.f9efc5793ca8e8d3fd0a.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 11:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_svg_sketch__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_svg_sketch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_svg_sketch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_lib_styl__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_lib_styl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__styles_lib_styl__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__components_svg_sketch___default.a);\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_es6_object_assign__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_es6_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_es6_object_assign__);\n\n\n\n\nvar DefaultOptions = {\n    width: 300,\n    height: 300,\n    minDistance: 3,\n    strokeWidth: 3,\n    stroke: '#ff0028',\n    disabled: false\n};\n\nvar Sketch = function () {\n    function Sketch(element, options) {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Sketch);\n\n        this['sketch-version'] = 2;\n\n        this.element = element;\n        this.options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_es6_object_assign__[\"assign\"])({}, DefaultOptions, options);\n\n        this._temp = {};\n\n        this.$parent = document.createElement('div');\n        this.$svg = this.createSvg(this.options);\n        this.is_touch = 'ontouchstart' in document.documentElement;\n\n        this.$parent.appendChild(this.$svg);\n        element.appendChild(this.$parent);\n\n        this.$parent.style.display = 'inline-block';\n\n        this.listen();\n\n        return this;\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Sketch, [{\n        key: 'listen',\n        value: function listen() {\n            if (this.is_touch) {\n                this.element.addEventListener('touchstart', this.beginDraw.bind(this));\n                this.element.addEventListener('touchmove', this.drawMove.bind(this));\n                document.addEventListener('touchend', this.endDraw.bind(this));\n            } else {\n                this.element.addEventListener('mousedown', this.beginDraw.bind(this));\n                this.element.addEventListener('mousemove', this.drawMove.bind(this));\n                document.addEventListener('mouseup', this.endDraw.bind(this));\n            }\n\n            return this;\n        }\n    }, {\n        key: 'createSvg',\n        value: function createSvg(_ref) {\n            var width = _ref.width,\n                height = _ref.height,\n                _ref$version = _ref.version,\n                version = _ref$version === undefined ? 1.1 : _ref$version;\n\n            var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n            svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n            svg.setAttribute('version', version);\n            svg.setAttribute('width', width);\n            svg.setAttribute('height', height);\n\n            return svg;\n        }\n    }, {\n        key: 'createPath',\n        value: function createPath(_ref2) {\n            var strokeWidth = _ref2.strokeWidth,\n                stroke = _ref2.stroke,\n                d = _ref2.d;\n\n            var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n            path.setAttribute('stroke-width', strokeWidth);\n            path.setAttribute('stroke-linecap', 'round');\n            path.setAttribute('stroke-linejoin', 'round');\n            path.setAttribute('stroke', stroke);\n            path.setAttribute('fill', 'none');\n\n            if (d) {\n                path.setAttribute('d', d);\n            }\n\n            return path;\n        }\n    }, {\n        key: 'setOffset',\n        value: function setOffset() {\n            this._temp.offsetLeft = this.$parent.offsetLeft || 0;\n            this._temp.offsetTop = this.$parent.offsetTop || 0;\n        }\n    }, {\n        key: 'getCoordsByShiftKey',\n        value: function getCoordsByShiftKey(coords, holdKey) {\n            if (holdKey) {\n                this._temp.line = true;\n                this._temp.lineDirection = null;\n\n                // если начальные координаты лини не заданы\n                if (!this._temp.lineStartCoords) {\n                    this._temp.lineStartCoords = coords;\n                    // если направление линии не определено\n                } else if (!this._temp.lineDirection) {\n                    var dist = getDistance(this._temp.lineStartCoords, coords);\n                    // если дистанция от начальной точки превышает порог,\n                    // то получаем направление движения\n                    if (dist > 10) {\n                        this._temp.lineDirection = getDirectionMove(this._temp.lineStartCoords, coords);\n                    }\n                }\n\n                if (this._temp.lineDirection === 'x') {\n                    coords.y = this._temp.prevCoords.y;\n                } else if (this._temp.lineDirection === 'y') {\n                    coords.x = this._temp.prevCoords.x;\n                }\n            } else {\n                this._temp.line = false;\n                this._temp.lineDirection = null;\n                this._temp.lineStartCoords = null;\n            }\n\n            return coords;\n        }\n    }, {\n        key: 'beginDraw',\n        value: function beginDraw(event) {\n            if (this.options.disabled) {\n                return;\n            }\n\n            if (event.targetTouches) {\n                if (event.targetTouches.length > 1) return;\n                // Блокируем скролл на тач устройствах\n                event.preventDefault();\n            }\n\n            // Обновляем фосет до получение координат\n            this.setOffset();\n\n            this._temp.drawing = true;\n\n            var coords = this.getCoords(event);\n            coords = this.getCoordsByShiftKey(coords, event.shiftKey);\n\n            this.$path = this.createPath(this.options);\n            this.$svg.appendChild(this.$path);\n\n            this._temp.path = 'M' + coords.x + ',' + coords.y + 'l0,0';\n            this.$path.setAttribute('d', this._temp.path);\n\n            // Сохраняем координаты\n            this._temp.prevCoords = coords;\n        }\n    }, {\n        key: 'drawMove',\n        value: function drawMove(event) {\n            if (this.options.disabled || !this._temp.drawing) {\n                return;\n            }\n\n            if (event.targetTouches) {\n                if (event.targetTouches.length > 1) return;\n                // Блокируем скролл на тач устройствах\n                event.preventDefault();\n            }\n\n            var coords = this.getCoords(event);\n            var distance = getDistance(this._temp.prevCoords, coords);\n\n            if (distance > this.options.minDistance) {\n                coords = this.getCoordsByShiftKey(coords, event.shiftKey);\n\n                this._temp.path += 'l' + (coords.x - this._temp.prevCoords.x) + ',' + (coords.y - this._temp.prevCoords.y);\n                this._temp.prevCoords = coords;\n                this.$path.setAttribute('d', this._temp.path);\n            }\n        }\n    }, {\n        key: 'endDraw',\n        value: function endDraw() {\n            if (this.options.disabled) {\n                return;\n            }\n            // Обнуляем временные значения\n            this._temp.drawing = false;\n            this._temp.path = '';\n            this._temp.offsetLeft = 0;\n            this._temp.offsetTop = 0;\n            this._temp.lineDirection = null;\n            this._temp.line = false;\n            this._temp.lineStartCoords = null;\n        }\n    }, {\n        key: 'back',\n        value: function back() {\n            if (this.$svg.children && this.$svg.children.length) {\n                this.$svg.children[this.$svg.children.length - 1].remove();\n            }\n        }\n    }, {\n        key: 'clean',\n        value: function clean() {\n            if (this.$svg) {\n                this.$svg.innerHTML = '';\n            }\n        }\n    }, {\n        key: 'getCoords',\n        value: function getCoords(event) {\n            var coords = getCoordsByEvent(event);\n            coords.x -= this._temp.offsetLeft;\n            coords.y -= this._temp.offsetTop;\n\n            return coords;\n        }\n    }, {\n        key: 'strokeWidth',\n        set: function set(value) {\n            this.options.strokeWidth = value;\n        }\n    }, {\n        key: 'stroke',\n        set: function set(value) {\n            this.options.stroke = value;\n        }\n    }, {\n        key: 'disabled',\n        set: function set(value) {\n            this.options.disabled = value;\n        }\n    }, {\n        key: 'sketchSvg',\n        get: function get() {\n            return this.$svg.outerHTML;\n        }\n    }, {\n        key: 'sketchJson',\n        get: function get() {\n            var res = void 0;\n\n            if (this.$svg && this.$svg.children && this.$svg.children.length) {\n                res = {};\n                res.type = 'svg';\n                res.version = 1.1;\n                res.sv = 2;\n                res.w = this.options.width;\n                res.h = this.options.height;\n                res.paths = [];\n\n                for (var i = this.$svg.children.length; i--;) {\n                    res.paths.push({\n                        d: this.$svg.children[i].getAttribute('d'),\n                        s: this.$svg.children[i].getAttribute('stroke'),\n                        sw: this.$svg.children[i].getAttribute('stroke-width')\n                    });\n                }\n            }\n\n            return res;\n        },\n        set: function set(json) {\n            /* eslint-disable eqeqeq */\n            if (json.sv == 2) {\n                this.sketchJsonV3 = json;\n            } else {\n                this.sketchJsonV1 = json;\n            }\n        }\n    }, {\n        key: 'sketchJsonV3',\n        set: function set(json) {\n            var _this = this;\n\n            var svg = this.createSvg({ width: json.w, height: json.h, version: json.version });\n            var paths = json.paths || [];\n            var pathsHTML = '';\n\n            paths.forEach(function (path) {\n                var pathElement = _this.createPath({ strokeWidth: path.sw, stroke: path.s, d: path.d });\n                pathsHTML += pathElement.outerHTML;\n            });\n\n            svg.innerHTML = pathsHTML;\n        }\n    }, {\n        key: 'sketchJsonV1',\n        set: function set(json) {\n            var _this2 = this;\n\n            var svg = this.createSvg({ width: json.width, height: json.height });\n            var paths = json.paths || [];\n            var pathsHTML = '';\n\n            paths.forEach(function (d) {\n                var pathElement = _this2.createPath({ d: d, strokeWidth: DefaultOptions.strokeWidth, stroke: DefaultOptions.stroke });\n                pathsHTML += pathElement.outerHTML;\n            });\n\n            svg.innerHTML = pathsHTML;\n        }\n    }]);\n\n    return Sketch;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Sketch);\n\n\nfunction getCoordsByEvent(event) {\n    var coords = { x: 0, y: 0 };\n\n    if (event.changedTouches) {\n        coords.x = event.changedTouches[0].pageX;\n        coords.y = event.changedTouches[0].pageY;\n    } else {\n        coords.x = event.layerX;\n        coords.y = event.layerY;\n    }\n\n    return coords;\n}\n\nfunction getDistance(coords1, coords2) {\n    return Math.sqrt((coords2.x - coords1.x) * (coords2.x - coords1.x) + (coords2.y - coords1.y) * (coords2.y - coords1.y));\n}\n\nfunction getDirectionMove(coords1, coords2) {\n    var offsetX = Math.abs(coords1.x - coords2.x);\n    var offsetY = Math.abs(coords1.y - coords2.y);\n\n    return offsetX < offsetY ? 'y' : 'x';\n}\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_sketch_js__ = __webpack_require__(16);\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'svg-sketch',\n    props: {\n        disabled: Boolean,\n        size: {\n            type: [String, Number],\n            default: 3\n        },\n        color: {\n            type: String,\n            default: 'red'\n        },\n        width: {\n            type: [String, Number],\n            default: 300\n        },\n        height: {\n            type: [String, Number],\n            default: 300\n        }\n    },\n    data: function data() {\n        return {\n            sketch: null\n        };\n    },\n    mounted: function mounted() {\n        this.sketch = new __WEBPACK_IMPORTED_MODULE_0__utils_sketch_js__[\"a\" /* default */](this.$el, {\n            width: this.width,\n            height: this.height,\n            stroke: this.color,\n            strokeWidth: this.size\n        });\n    },\n\n    methods: {\n        revert: function revert() {\n            this.sketch.back();\n        },\n        clean: function clean() {\n            this.sketch.clean();\n        },\n        toJSON: function toJSON() {\n            return this.sketch.sketchJson;\n        }\n    },\n    watch: {\n        disabled: function disabled(value) {\n            this.sketch.disabled = value;\n        },\n        size: function size(value) {\n            this.sketch.strokeWidth = value;\n        },\n        color: function color(value) {\n            this.sketch.stroke = value;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(36)\n}\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(18),\n  /* template */\n  __webpack_require__(41),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-b7016e04\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"svg-sketch\"\n  })\n},staticRenderFns: []}\n\n/***/ })\n\n},[15]);\n\n\n// WEBPACK FOOTER //\n// docs/js/vue-svg-sketch.f9efc5793ca8e8d3fd0a.js","import vueSvgSketch from './components/svg-sketch'\nimport './styles/lib.styl'\n\nexport default vueSvgSketch\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib.js","import {assign} from 'es6-object-assign'\n\nconst DefaultOptions = {\n    width: 300,\n    height: 300,\n    minDistance: 3,\n    strokeWidth: 3,\n    stroke: '#ff0028',\n    disabled: false\n}\n\nexport default class Sketch {\n\n    constructor (element, options) {\n        this['sketch-version'] = 2\n\n        this.element = element\n        this.options = assign({}, DefaultOptions, options)\n\n        this._temp = {}\n\n        this.$parent = document.createElement('div')\n        this.$svg = this.createSvg(this.options)\n        this.is_touch = 'ontouchstart' in document.documentElement\n\n        this.$parent.appendChild(this.$svg)\n        element.appendChild(this.$parent)\n\n        this.$parent.style.display = 'inline-block'\n\n        this.listen()\n\n        return this\n    }\n\n    listen () {\n        if (this.is_touch) {\n            this.element.addEventListener('touchstart', this.beginDraw.bind(this))\n            this.element.addEventListener('touchmove', this.drawMove.bind(this))\n            document.addEventListener('touchend', this.endDraw.bind(this))\n        } else {\n            this.element.addEventListener('mousedown', this.beginDraw.bind(this))\n            this.element.addEventListener('mousemove', this.drawMove.bind(this))\n            document.addEventListener('mouseup', this.endDraw.bind(this))\n        }\n\n        return this\n    }\n\n    set strokeWidth (value) {\n        this.options.strokeWidth = value\n    }\n\n    set stroke (value) {\n        this.options.stroke = value\n    }\n\n    set disabled (value) {\n        this.options.disabled = value\n    }\n\n    get sketchSvg () {\n        return this.$svg.outerHTML\n    }\n\n    get sketchJson () {\n        let res\n\n        if (this.$svg && this.$svg.children && this.$svg.children.length) {\n            res = {}\n            res.type = 'svg'\n            res.version = 1.1\n            res.sv = 2\n            res.w = this.options.width\n            res.h = this.options.height\n            res.paths = []\n\n            for (let i = this.$svg.children.length; i--;) {\n                res.paths.push({\n                    d: this.$svg.children[i].getAttribute('d'),\n                    s: this.$svg.children[i].getAttribute('stroke'),\n                    sw: this.$svg.children[i].getAttribute('stroke-width')\n                })\n            }\n        }\n\n        return res\n    }\n\n    set sketchJson (json) {\n        /* eslint-disable eqeqeq */\n        if (json.sv == 2) {\n            this.sketchJsonV3 = json\n        } else {\n            this.sketchJsonV1 = json\n        }\n    }\n\n    set sketchJsonV3 (json) {\n        let svg = this.createSvg({width: json.w, height: json.h, version: json.version})\n        let paths = json.paths || []\n        let pathsHTML = ''\n\n        paths.forEach(path => {\n            let pathElement = this.createPath({strokeWidth: path.sw, stroke: path.s, d: path.d})\n            pathsHTML += pathElement.outerHTML\n        })\n\n        svg.innerHTML = pathsHTML\n    }\n\n    set sketchJsonV1 (json) {\n        let svg = this.createSvg({width: json.width, height: json.height})\n        let paths = json.paths || []\n        let pathsHTML = ''\n\n        paths.forEach(d => {\n            let pathElement = this.createPath({d, strokeWidth: DefaultOptions.strokeWidth, stroke: DefaultOptions.stroke})\n            pathsHTML += pathElement.outerHTML\n        })\n\n        svg.innerHTML = pathsHTML\n    }\n\n    createSvg ({width, height, version = 1.1}) {\n        let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n\n        svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink')\n        svg.setAttribute('version', version)\n        svg.setAttribute('width', width)\n        svg.setAttribute('height', height)\n\n        return svg\n    }\n\n    createPath ({strokeWidth, stroke, d}) {\n        let path = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\n        path.setAttribute('stroke-width', strokeWidth)\n        path.setAttribute('stroke-linecap', 'round')\n        path.setAttribute('stroke-linejoin', 'round')\n        path.setAttribute('stroke', stroke)\n        path.setAttribute('fill', 'none')\n\n        if (d) {\n            path.setAttribute('d', d)\n        }\n\n        return path\n    }\n\n    setOffset () {\n        this._temp.offsetLeft = this.$parent.offsetLeft || 0\n        this._temp.offsetTop = this.$parent.offsetTop || 0\n    }\n\n    getCoordsByShiftKey (coords, holdKey) {\n        if (holdKey) {\n            this._temp.line = true\n            this._temp.lineDirection = null\n\n            // если начальные координаты лини не заданы\n            if (!this._temp.lineStartCoords) {\n                this._temp.lineStartCoords = coords\n            // если направление линии не определено\n            } else if (!this._temp.lineDirection) {\n                let dist = getDistance(this._temp.lineStartCoords, coords)\n                // если дистанция от начальной точки превышает порог,\n                // то получаем направление движения\n                if (dist > 10) {\n                    this._temp.lineDirection = getDirectionMove(this._temp.lineStartCoords, coords)\n                }\n            }\n\n            if (this._temp.lineDirection === 'x') {\n                coords.y = this._temp.prevCoords.y\n            } else if (this._temp.lineDirection === 'y') {\n                coords.x = this._temp.prevCoords.x\n            }\n        } else {\n            this._temp.line = false\n            this._temp.lineDirection = null\n            this._temp.lineStartCoords = null\n        }\n\n        return coords\n    }\n\n    beginDraw (event) {\n        if (this.options.disabled) {\n            return\n        }\n\n        if (event.targetTouches) {\n            if (event.targetTouches.length > 1) return\n            // Блокируем скролл на тач устройствах\n            event.preventDefault()\n        }\n\n        // Обновляем фосет до получение координат\n        this.setOffset()\n\n        this._temp.drawing = true\n\n        let coords = this.getCoords(event)\n        coords = this.getCoordsByShiftKey(coords, event.shiftKey)\n\n        this.$path = this.createPath(this.options)\n        this.$svg.appendChild(this.$path)\n\n        this._temp.path = `M${coords.x},${coords.y}l0,0`\n        this.$path.setAttribute('d', this._temp.path)\n\n        // Сохраняем координаты\n        this._temp.prevCoords = coords\n    }\n\n    drawMove (event) {\n        if (this.options.disabled || !this._temp.drawing) {\n            return\n        }\n\n        if (event.targetTouches) {\n            if (event.targetTouches.length > 1) return\n            // Блокируем скролл на тач устройствах\n            event.preventDefault()\n        }\n\n        let coords = this.getCoords(event)\n        let distance = getDistance(this._temp.prevCoords, coords)\n\n        if (distance > this.options.minDistance) {\n            coords = this.getCoordsByShiftKey(coords, event.shiftKey)\n\n            this._temp.path += `l${coords.x - this._temp.prevCoords.x},${coords.y - this._temp.prevCoords.y}`\n            this._temp.prevCoords = coords\n            this.$path.setAttribute('d', this._temp.path)\n        }\n    }\n\n    endDraw () {\n        if (this.options.disabled) {\n            return\n        }\n        // Обнуляем временные значения\n        this._temp.drawing = false\n        this._temp.path = ''\n        this._temp.offsetLeft = 0\n        this._temp.offsetTop = 0\n        this._temp.lineDirection = null\n        this._temp.line = false\n        this._temp.lineStartCoords = null\n    }\n\n    back () {\n        if (this.$svg.children && this.$svg.children.length) {\n            this.$svg.children[this.$svg.children.length - 1].remove()\n        }\n    }\n\n    clean () {\n        if (this.$svg) {\n            this.$svg.innerHTML = ''\n        }\n    }\n\n    getCoords (event) {\n        let coords = getCoordsByEvent(event)\n        coords.x -= this._temp.offsetLeft\n        coords.y -= this._temp.offsetTop\n\n        return coords\n    }\n}\n\nfunction getCoordsByEvent (event) {\n    let coords = {x: 0, y: 0}\n\n    if (event.changedTouches) {\n        coords.x = event.changedTouches[0].pageX\n        coords.y = event.changedTouches[0].pageY\n    } else {\n        coords.x = event.layerX\n        coords.y = event.layerY\n    }\n\n    return coords\n}\n\nfunction getDistance (coords1, coords2) {\n    return Math.sqrt((coords2.x - coords1.x) * (coords2.x - coords1.x) + (coords2.y - coords1.y) * (coords2.y - coords1.y))\n}\n\nfunction getDirectionMove (coords1, coords2) {\n    let offsetX = Math.abs(coords1.x - coords2.x)\n    let offsetY = Math.abs(coords1.y - coords2.y)\n\n    return (offsetX < offsetY) ? 'y' : 'x'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/sketch.js","<template>\n    <div class=\"svg-sketch\"></div>\n</template>\n\n<script>\n    import Sketch from '@/utils/sketch.js'\n\n    export default {\n        name: 'svg-sketch',\n        props: {\n            disabled: Boolean,\n            size: {\n                type: [String, Number],\n                default: 3\n            },\n            color: {\n                type: String,\n                default: 'red'\n            },\n            width: {\n                type: [String, Number],\n                default: 300\n            },\n            height: {\n                type: [String, Number],\n                default: 300\n            }\n        },\n        data () {\n            return {\n                sketch: null\n            }\n        },\n        mounted () {\n            this.sketch = new Sketch(this.$el, {\n                width: this.width,\n                height: this.height,\n                stroke: this.color,\n                strokeWidth: this.size\n            })\n        },\n        methods: {\n            revert () {\n                this.sketch.back()\n            },\n            clean () {\n                this.sketch.clean()\n            },\n            toJSON () {\n                return this.sketch.sketchJson\n            }\n        },\n        watch: {\n            disabled (value) {\n                this.sketch.disabled = value\n            },\n            size (value) {\n                this.sketch.strokeWidth = value\n            },\n            color (value) {\n                this.sketch.stroke = value\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// svg-sketch.vue?e6596a7e","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b7016e04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./svg-sketch.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./svg-sketch.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b7016e04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./svg-sketch.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-b7016e04\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/svg-sketch.vue\n// module id = 4\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"svg-sketch\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-b7016e04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/svg-sketch.vue\n// module id = 41\n// module chunks = 2"],"sourceRoot":""}